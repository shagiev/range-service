# Сервис выбора уникальных чисел из диапазона целых чисел.

## Вариант 1. PHP + хранимые процедуры в Postgres

Задача: надежное хранение состояния в персистентном хранилище, защита от коллизий.

Числа выдаются в случайном порядке, чтобы обезопаситься от возможных атак последовательного перебора.
Для хранения состояния используется принцип Fisher-Yates shuffle. На каждом шаге выдается случайное число из свободных, а на его место кладется лежащее последним.
При этом хранятся только те числа, которые лежат не на своем месте после перестановки. Благодаря этому в худшем случае нам всегда надо хранить не больше чем min(количество занятых, количество свободных).

Миграция БД в db, код сервиса в src. Тесты в tests, web-сервис - public/index.php, CLI-скрипт - cli/range-service.php.
